@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ajustes de impressão para PDF em A4 */
@page {
    size: A4;
    margin: 12mm;
}

@media print {
    /* Preserva cores próximas ao que se vê na tela */
    * {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }

    /* Oculta elementos acima dos cards de resumo */
    button, h1, .print\:hidden {
        display: none !important;
    }

    /* Reduz tamanho geral dos elementos em ~25% */
    body {
        font-size: 0.75rem !important;
        line-height: 1.2 !important;
    }

    /* Cards de resumo em linha horizontal compacta */
    .grid-cols-1.md\:grid-cols-3,
    div[class*="grid-cols-1"][class*="md:grid-cols-3"] {
        display: flex !important;
        flex-direction: row !important;
        gap: 0.5rem !important;
        margin-bottom: 0.75rem !important;
    }

    .grid-cols-1.md\:grid-cols-3 > *,
    div[class*="grid-cols-1"][class*="md:grid-cols-3"] > * {
        flex: 1 !important;
        min-width: 0 !important;
    }

    /* Reduz fonte dos StatCards em 1/4 */
    .grid-cols-1.md\:grid-cols-3 > * *,
    div[class*="grid-cols-1"][class*="md:grid-cols-3"] > * * {
        font-size: 0.75rem !important;
    }
    
    .grid-cols-1.md\:grid-cols-3 > * h3,
    div[class*="grid-cols-1"][class*="md:grid-cols-3"] > * h3 {
        font-size: 0.625rem !important;
    }
    
    .grid-cols-1.md\:grid-cols-3 > * p,
    div[class*="grid-cols-1"][class*="md:grid-cols-3"] > * p {
        font-size: 0.75rem !important;
    }

    /* Reduz espaçamentos */
    .space-y-8 > * + * {
        margin-top: 1.5rem !important;
    }
    .space-y-6 > * + * {
        margin-top: 1rem !important;
    }
    .space-y-2 > * + * {
        margin-top: 0.25rem !important;
    }

    /* Reduz padding e margin dos containers para grade */
    .p-4 { padding: 0.25rem !important; }
    .p-6 { padding: 0.5rem !important; }
    .px-6 { padding-left: 0.5rem !important; padding-right: 0.5rem !important; }
    .py-3 { padding-top: 0.25rem !important; padding-bottom: 0.25rem !important; }
    .py-4 { padding-top: 0.25rem !important; padding-bottom: 0.25rem !important; }
    .mb-4 { margin-bottom: 0.25rem !important; }
    .mb-6 { margin-bottom: 0.5rem !important; }
    .mb-8 { margin-bottom: 0.5rem !important; }
    .mt-8 { margin-top: 0.5rem !important; }

    /* Layout em grade 2x2 para os 4 boxes - abordagem simplificada */
    div[class*="lg:grid-cols-2"] {
        display: grid !important; /* Aplica o grid apenas ao container dos 4 boxes */
        grid-template-columns: 1fr 1fr !important;
        grid-template-rows: auto auto !important;
        gap: 0.5rem !important;
    }
    
    /* Reduz altura dos boxes para caber na grade */
    [style*="height: 36rem"] { height: 24rem !important; } /* Aumenta a altura dos boxes de lista */
    [style*="height: 24rem"] { height: 15rem !important; } /* Reduz a altura dos boxes de gráfico */
    
    /* Força os divs filhos dos grids de 2 colunas (gráficos/listas) a ocuparem espaço igual */
    div[class*="lg:grid-cols-2"] > div {
        overflow: hidden !important; /* Garante que o conteúdo não transborde */
        width: 100% !important;
        /* A altura agora é controlada pelos seletores de atributo acima, 
           permitindo tamanhos diferentes para os boxes. */
    }


    /* Reduz tamanho das fontes para grade compacta */
    .text-xl { font-size: 0.6rem !important; }
    .text-lg { font-size: 0.55rem !important; }
    .text-sm { font-size: 0.5rem !important; }
    .text-xs { font-size: 0.45rem !important; }
    
    /* Reduz fontes e espaçamentos dentro dos boxes de 2 colunas (gráficos/listas) */
    div[class*="lg:grid-cols-2"] h2,
    div[class*="lg:grid-cols-2"] h3 { font-size: 0.6rem !important; }
    div[class*="lg:grid-cols-2"] ul,
    div[class*="lg:grid-cols-2"] li,
    div[class*="lg:grid-cols-2"] p,
    div[class*="lg:grid-cols-2"] span { font-size: 0.5rem !important; }



    /* Remove sombras que podem ficar escuras no PDF */
    .shadow, .shadow-md, .shadow-lg, .shadow-xl, .shadow-2xl {
        box-shadow: none !important;
    }

    /* Evita quebra interna dos cartões/boxes */
    .avoid-break {
        break-inside: avoid;
        page-break-inside: avoid;
    }

    /* Otimiza tabelas para impressão */
    table {
        page-break-inside: auto;
        font-size: 0.75rem !important;
    }
    thead { display: table-header-group; }
    tfoot { display: table-footer-group; }

    /* Reduz gap dos grids */
    .gap-8 { gap: 1.5rem !important; }
    .gap-6 { gap: 1rem !important; }
}